{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/bitjungle/gopca/schemas/v1/results.schema.json",
  "title": "PCA Results Data",
  "description": "Results from PCA analysis including scores and metrics",
  "type": "object",
  "required": ["samples"],
  "properties": {
    "samples": {
      "type": "object",
      "description": "Sample-specific results",
      "required": ["names", "scores"],
      "properties": {
        "names": {
          "type": "array",
          "description": "Sample identifiers",
          "items": {
            "type": "string"
          }
        },
        "scores": {
          "$ref": "common.schema.json#/definitions/Matrix",
          "description": "PC scores matrix (samples Ã— components)"
        },
        "metrics": {
          "type": "object",
          "description": "Diagnostic metrics for samples",
          "properties": {
            "hotelling_t2": {
              "type": "array",
              "description": "Hotelling's T-squared statistic for each sample",
              "items": {
                "type": "number",
                "minimum": 0
              }
            },
            "mahalanobis": {
              "type": "array",
              "description": "Mahalanobis distance for each sample",
              "items": {
                "type": "number",
                "minimum": 0
              }
            },
            "rss": {
              "type": "array",
              "description": "Residual sum of squares for each sample",
              "items": {
                "type": "number",
                "minimum": 0
              }
            },
            "is_outlier": {
              "type": "array",
              "description": "Outlier flag for each sample",
              "items": {
                "type": "boolean"
              }
            }
          }
        }
      }
    }
  }
}